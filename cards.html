<!DOCTYPE html ><html> <head><link href="css/index.6a5a2548.css" rel="stylesheet"/><link href="css/cards.2f5b617c.css" rel="stylesheet"/><script></script></head><body><div class="cards"><div class="cards__logo-container"><div class="ui-logo"><img class="ui-logo__svg" src="img/ui-logo.c2a93d6a.svg"></div></div><div class="cards__container"><div class="cards__row"><div class="cards__mixin_room-finder"><div class="room-finder"><div class="room-finder__main-container"><div class="room-finder__ui-container"><h1 class="room-finder__ui-text">Найдём номера под ваши пожелания</h1></div><div class="room-finder__date-container"> <div class="date-dropdown"><div class="date-dropdown_s"><div class="date-dropdown__ui"><div class="ui"><h3 class="form-paragraph__first">Прибытие</h3><p class="form-paragraph__second"></p></div></div><form class="date-dropdown__form_s"><p class="date-dropdown__input_s">ДД.ММ.ГГГГ</p><div class="date-dropdown__expand" isExpanded></div></form></div><div class="date-dropdown_s"><div class="date-dropdown__ui"><div class="ui"><h3 class="form-paragraph__first">Выезд</h3><p class="form-paragraph__second"></p></div></div><form class="date-dropdown__form_s"><p class="date-dropdown__input_s">ДД.ММ.ГГГГ</p><div class="date-dropdown__expand" isExpanded></div></form></div><div class="factual-dd_closed"><div class="factual-dd__container"><div class="factual-dd__top"><div class="factual-dd__arrow-left"></div><div class="factual-dd__date"> <p class="factual-dd__day-value_active" value="Август 2019">Август 2019</p><p class="factual-dd__month-value" value="Август 2019">2019 </p><p class="factual-dd__year-value" value="Август 2019">year range   </p></div><div class="factual-dd__arrow-right"></div><div class="factual-dd__weekdays_active"></div></div><div class="factual-dd__middle"><div class="factual-dd__years"><div class="factual-dd__year">2009</div><div class="factual-dd__year">2010</div><div class="factual-dd__year">2011</div><div class="factual-dd__year">2012</div><div class="factual-dd__year">2013</div><div class="factual-dd__year">2014</div><div class="factual-dd__year">2015</div><div class="factual-dd__year">2016</div><div class="factual-dd__year">2017</div><div class="factual-dd__year">2018</div><div class="factual-dd__year">2019</div><div class="factual-dd__year">2020</div></div><div class="factual-dd__months"><div class="factual-dd__month">Янв</div><div class="factual-dd__month">Фев</div><div class="factual-dd__month">Мар</div><div class="factual-dd__month">Апр</div><div class="factual-dd__month">Май</div><div class="factual-dd__month">Июн</div><div class="factual-dd__month">Июл</div><div class="factual-dd__month">Авг</div><div class="factual-dd__month">Сен</div><div class="factual-dd__month">Окт</div><div class="factual-dd__month">Ноя</div><div class="factual-dd__month">Дек</div></div><div class="factual-dd__days_active"></div></div><div class="factual-dd__bottom"><div class="factual-dd__buttons"><div class="factual-dd__clear-container"><p class="factual-dd__clear">ОЧИСТИТЬ</p></div><div class="factual-dd__accept-container"><p class="factual-dd__accept">ПРИМЕНИТЬ</p></div></div></div></div></div></div><div class="test2" data="small,ui,Прибытие,,ui,Выезд,,ДД.ММ.ГГГГ,ДД.ММ.ГГГГ"></div></div><div class="room-finder__dropdown-container"><div class="dropdown dropdown_big"><div class="dropdown__ui-container_big"><div class="dropdown__ui"><div class="ui"><h3 class="form-paragraph__first">Гости</h3><p class="form-paragraph__second"></p></div></div></div><div class="dropdown__container"><div class="dropdown__input"><p class="dropdown__input-text" value="test">Сколько гостей</p><div class="dropdown__expand"></div></div><div class="dropdown__select_big"><div class="dropdown-list"><h3 class="dropdown-list__text">Взрослые</h3><div class="dropdown-list__options"><img class="dropdown-list__minus" src="img/minus.5e97e4df.svg" alt=""><div class="dropdown-list__quantity-container"><h3 class="dropdown-list__quantity" count="0">0</h3></div><img class="dropdown-list__plus" src="img/plus.c293966b.svg" alt=""></div></div><div class="dropdown-list"><h3 class="dropdown-list__text">Дети</h3><div class="dropdown-list__options"><img class="dropdown-list__minus" src="img/minus.5e97e4df.svg" alt=""><div class="dropdown-list__quantity-container"><h3 class="dropdown-list__quantity" count="0">0</h3></div><img class="dropdown-list__plus" src="img/plus.c293966b.svg" alt=""></div></div><div class="dropdown-list"><h3 class="dropdown-list__text">Младенцы</h3><div class="dropdown-list__options"><img class="dropdown-list__minus" src="img/minus.5e97e4df.svg" alt=""><div class="dropdown-list__quantity-container"><h3 class="dropdown-list__quantity" count="0">0</h3></div><img class="dropdown-list__plus" src="img/plus.c293966b.svg" alt=""></div></div><h3 class="dropdown__accept">Применить</h3></div></div></div></div><div class="room-finder__button"> <div class="button-container"><button class="button button_b button_default"><span class="button__text button__text_default">Подобрать номер</span></button></div><div class="test4" data="default,big,Подобрать номер"></div></div></div></div></div><div class="cards__mixin"><div class="sign-up"><div class="sign-up__inner"><div class="sign-up__heading-container"> <h1 class="sign-up__heading">Регистрация аккаунта</h1></div><div class="sign-up__user-container"><div class="sign-up__username-container"><div class="text-field"><form class="text-field__form" action="#" method="get"><input class="text-field__input" type="text" placeholder="Имя"></form></div></div><div class="sign-up__surname-container"><div class="text-field"><form class="text-field__form" action="#" method="get"><input class="text-field__input" type="text" placeholder="Фамилия"></form></div></div><div class="sign-up__gender-container"><div class="radiobuttons"> <div class="radiobuttons__ui"></div><div class="radiobuttons__wrapper"><form class="radiobuttons__form"><div class="radiobuttons__container"><input class="radiobuttons__radiobutton" type="radio" name="sex" checked><label class="radiobuttons__radio-text">Мужчина</label></div><div class="radiobuttons__container"><input class="radiobuttons__radiobutton" type="radio" name="sex"><label class="radiobuttons__radio-text">Женщина</label></div></form></div></div></div></div><div class="sign-up__dob-container"><div class="masked-text_b"><div class="masked-text__ui"><div class="ui"><h3 class="form-paragraph__first">ДАТА РОЖДЕНИЯ</h3></div></div><form class="masked-text__form_b"><p class="masked-text__input_m">ДД.ММ.ГГГГ </p></form></div></div><div class="sign-up__credentials-container"><div class="sign-up__email-container"><h3 class="sign-up__email-text">данные для входа в сервис</h3><div class="text-field"><form class="text-field__form" action="#" method="get"><input class="text-field__input" type="text" placeholder="Email"></form></div></div><div class="sign-up__password-container"><div class="text-field"><form class="text-field__form" action="#" method="get"><input class="text-field__input" type="text" placeholder="Пароль"></form></div></div><div class="sign-up__toggle-container"><div class="toggle"><div class="toggle__ui"></div><div class="toggle__container"><div class="real-toggle"><div class="real-toggle__icon real-toggle__icon_disabled" enabled="false"></div></div><div class="toggle__text-container"><form class="toggle__form"><p class="toggle__text">Получать спецпредложения</p></form></div></div></div></div></div><div class="sign-up__button-container"><div class="button-container"><button class="button button_b button_default"><span class="button__text button__text_default">перейти к оплате</span></button></div></div><div class="sign-up__extras-container"><div class="sign-up__text-container"><p class="sign-up__text">Уже есть аккаунт на Toxin</p></div><div class="sign-up__redirect-container"><div class="button-container"><button class="button button_s button_hollow"> <span class="button__text button__text_hollow">войти </span></button></div></div></div></div></div></div></div><div class="cards__row"><div class="cards__mixin_reservation"><div class="reservation"><div class="reservation__inner"><div class="reservation__info-container"><div class="suite"><div class="suite__container"><h1 class="suite__number"><span class="suite__symbol">№</span>888</h1><h3 class="suite__status">люкс</h3></div><div class="suite__rent-container"><h3 class="suite__cost">9 990 </h3><p class="suite__per">в сутки</p></div></div></div><div class="reservation__datedd-container"><div class="date-dropdown"><div class="date-dropdown_s"><div class="date-dropdown__ui"><div class="ui"><h3 class="form-paragraph__first">прибытие</h3></div></div><form class="date-dropdown__form_s"><p class="date-dropdown__input_s">19.08.2019</p><div class="date-dropdown__expand" isExpanded></div></form></div><div class="date-dropdown_s"><div class="date-dropdown__ui"><div class="ui"><h3 class="form-paragraph__first">выезд</h3></div></div><form class="date-dropdown__form_s"><p class="date-dropdown__input_s">23.08.2019</p><div class="date-dropdown__expand" isExpanded></div></form></div><div class="factual-dd_closed"><div class="factual-dd__container"><div class="factual-dd__top"><div class="factual-dd__arrow-left"></div><div class="factual-dd__date"> <p class="factual-dd__day-value_active" value="Август 2019">Август 2019</p><p class="factual-dd__month-value" value="Август 2019">2019 </p><p class="factual-dd__year-value" value="Август 2019">year range   </p></div><div class="factual-dd__arrow-right"></div><div class="factual-dd__weekdays_active"></div></div><div class="factual-dd__middle"><div class="factual-dd__years"><div class="factual-dd__year">2009</div><div class="factual-dd__year">2010</div><div class="factual-dd__year">2011</div><div class="factual-dd__year">2012</div><div class="factual-dd__year">2013</div><div class="factual-dd__year">2014</div><div class="factual-dd__year">2015</div><div class="factual-dd__year">2016</div><div class="factual-dd__year">2017</div><div class="factual-dd__year">2018</div><div class="factual-dd__year">2019</div><div class="factual-dd__year">2020</div></div><div class="factual-dd__months"><div class="factual-dd__month">Янв</div><div class="factual-dd__month">Фев</div><div class="factual-dd__month">Мар</div><div class="factual-dd__month">Апр</div><div class="factual-dd__month">Май</div><div class="factual-dd__month">Июн</div><div class="factual-dd__month">Июл</div><div class="factual-dd__month">Авг</div><div class="factual-dd__month">Сен</div><div class="factual-dd__month">Окт</div><div class="factual-dd__month">Ноя</div><div class="factual-dd__month">Дек</div></div><div class="factual-dd__days_active"></div></div><div class="factual-dd__bottom"><div class="factual-dd__buttons"><div class="factual-dd__clear-container"><p class="factual-dd__clear">ОЧИСТИТЬ</p></div><div class="factual-dd__accept-container"><p class="factual-dd__accept">ПРИМЕНИТЬ</p></div></div></div></div></div></div></div><div class="reservation__dropdown-container"><div class="dropdown dropdown_big"><div class="dropdown__ui-container_big"><div class="dropdown__ui"><div class="ui"><h3 class="form-paragraph__first">гости</h3></div></div></div><div class="dropdown__container"><div class="dropdown__input"><p class="dropdown__input-text" value="test">3 гостя</p><div class="dropdown__expand"></div></div><div class="dropdown__select_big"><div class="dropdown-list"><h3 class="dropdown-list__text">Взрослые</h3><div class="dropdown-list__options"><img class="dropdown-list__minus" src="img/minus.5e97e4df.svg" alt=""><div class="dropdown-list__quantity-container"><h3 class="dropdown-list__quantity" count="0">0</h3></div><img class="dropdown-list__plus" src="img/plus.c293966b.svg" alt=""></div></div><div class="dropdown-list"><h3 class="dropdown-list__text">Дети</h3><div class="dropdown-list__options"><img class="dropdown-list__minus" src="img/minus.5e97e4df.svg" alt=""><div class="dropdown-list__quantity-container"><h3 class="dropdown-list__quantity" count="0">0</h3></div><img class="dropdown-list__plus" src="img/plus.c293966b.svg" alt=""></div></div><div class="dropdown-list"><h3 class="dropdown-list__text">Младенцы</h3><div class="dropdown-list__options"><img class="dropdown-list__minus" src="img/minus.5e97e4df.svg" alt=""><div class="dropdown-list__quantity-container"><h3 class="dropdown-list__quantity" count="0">0</h3></div><img class="dropdown-list__plus" src="img/plus.c293966b.svg" alt=""></div></div><h3 class="dropdown__accept">Применить</h3></div></div></div></div><div class="reservation__details-container"><div class="reservation__pricing-container"><p class="reservation__pricing-text">9 990₽ х 4 суток</p><p class="reservation__pricing">39 960₽</p></div><div class="reservation__pricing-container"><p class="reservation__pricing-text reservation__pricing-text_after">Сбор за услуги: скидка 2 179₽</p><p class="reservation__pricing"> 0₽</p></div><div class="reservation__pricing-container"><p class="reservation__pricing-text reservation__pricing-text_after">Сбор за дополнительные услуги</p><p class="reservation__pricing">300₽</p></div></div><div class="reservation__total-container"><div class="reservation__price-container"><p class="reservation__total-text">Итого</p></div><div class="reservation__price-container"><div class="reservation__total-border"></div></div><div class="reservation__price-container"><p class="reservation__total-price">38 081₽</p></div></div><div class="reservation__button-container"> <div class="button-container"><button class="button button_b button_default"><span class="button__text button__text_default">забронировать</span></button></div></div></div></div></div><div class="cards__mixin_reservation"><div class="log-in"><div class="log-in__inner"><div class="log-in__header-container"><h1 class="log-in__header">Войти</h1></div><div class="log-in__credentials-container"><div class="log-in__email-container"><div class="text-field"><form class="text-field__form" action="#" method="get"><input class="text-field__input" type="text" placeholder="Email"></form></div></div><div class="log-in__password-container"><div class="text-field"><form class="text-field__form" action="#" method="get"><input class="text-field__input" type="text" placeholder="Пароль"></form></div></div></div><div class="log-in__button-container"> <div class="log-in__button"> <div class="button-container"><button class="button button_b button_default"><span class="button__text button__text_default">войти</span></button></div></div></div><div class="log-in__extras-container"><div class="log-in__text-container"><p class="log-in__text">Нет аккаунта на Toxin?</p></div><div class="log-in__redirect-container"><div class="button-container"><button class="button button_s button_hollow"> <span class="button__text button__text_hollow">создать </span></button></div></div></div></div></div></div></div><div class="cards__row"><div class="cards__mixin_dd"><div class="date-dropdown"><div class="factual-dd"><div class="factual-dd__container"><div class="factual-dd__top"><div class="factual-dd__arrow-left"></div><div class="factual-dd__date"> <p class="factual-dd__day-value_active" value="Август 2019">Август 2019</p><p class="factual-dd__month-value" value="Август 2019">2019 </p><p class="factual-dd__year-value" value="Август 2019">year range   </p></div><div class="factual-dd__arrow-right"></div><div class="factual-dd__weekdays_active"></div></div><div class="factual-dd__middle"><div class="factual-dd__years"><div class="factual-dd__year">2009</div><div class="factual-dd__year">2010</div><div class="factual-dd__year">2011</div><div class="factual-dd__year">2012</div><div class="factual-dd__year">2013</div><div class="factual-dd__year">2014</div><div class="factual-dd__year">2015</div><div class="factual-dd__year">2016</div><div class="factual-dd__year">2017</div><div class="factual-dd__year">2018</div><div class="factual-dd__year">2019</div><div class="factual-dd__year">2020</div></div><div class="factual-dd__months"><div class="factual-dd__month">Янв</div><div class="factual-dd__month">Фев</div><div class="factual-dd__month">Мар</div><div class="factual-dd__month">Апр</div><div class="factual-dd__month">Май</div><div class="factual-dd__month">Июн</div><div class="factual-dd__month">Июл</div><div class="factual-dd__month">Авг</div><div class="factual-dd__month">Сен</div><div class="factual-dd__month">Окт</div><div class="factual-dd__month">Ноя</div><div class="factual-dd__month">Дек</div></div><div class="factual-dd__days_active"></div></div><div class="factual-dd__bottom"><div class="factual-dd__buttons"><div class="factual-dd__clear-container"><p class="factual-dd__clear">ОЧИСТИТЬ</p></div><div class="factual-dd__accept-container"><p class="factual-dd__accept">ПРИМЕНИТЬ</p></div></div></div></div></div></div></div><div class="cards__mixin_card"><div class="card"><div class="card__bg-container"><div class="card__slider-container"> <div class="card__slider card__slider_left"><span class="card__arrow card__arrow_left">expand_more</span></div><div class="card__slider card__slider_right"><span class="card__arrow card__arrow_right">expand_more</span><div class="card__slider-menu"> <ul class="card__list"><li class="card__list-item"></li></ul></div></div></div><img class="card__bg" src="img/card-bg-1.366e6cc8.png"></div><div class="card__info-container"><div class="card__info-inner"><div class="card__suite-container"><div class="suite"><div class="suite__container"><h1 class="suite__number_small"><span class="suite__symbol">№</span>888</h1><h3 class="suite__status_small">люкс</h3></div><div class="suite__rent-container_small"><h3 class="suite__cost_small">9 990₽ </h3><p class="suite__per_small">в сутки</p></div></div></div><div class="card__rating-container"> <div class="card__rating-subcontainer_first"><div class="rate-button"><div class="rate-button__ui"> </div><div class="rate-button__container"><div class="rate-button__sub-container"><div class="rate-button__star rate-button__star_on" starEnabled="true"></div><div class="rate-button__star rate-button__star_on" starEnabled="true"></div><div class="rate-button__star rate-button__star_on" starEnabled="true"></div><div class="rate-button__star rate-button__star_on" starEnabled="true"></div><div class="rate-button__star rate-button__star_on" starEnabled="true"></div></div></div></div></div><div class="card__rating-subcontainer_second"> <div class="rating"><h3 class="rating__review-amount">145 <span class="rating__reviews">Отзывов</span></h3></div></div></div></div></div></div></div><div class="cards__mixin_card"><div class="card"><div class="card__bg-container"><div class="card__slider-container"> <div class="card__slider card__slider_left"><span class="card__arrow card__arrow_left">expand_more</span></div><div class="card__slider card__slider_right"><span class="card__arrow card__arrow_right">expand_more</span><div class="card__slider-menu"> <ul class="card__list"><li class="card__list-item"></li></ul></div></div></div><img class="card__bg" src="img/card-bg-2.4d88ee93.png"></div><div class="card__info-container"><div class="card__info-inner"><div class="card__suite-container"><div class="suite"><div class="suite__container"><h1 class="suite__number_small"><span class="suite__symbol">№</span>840</h1></div><div class="suite__rent-container_small"><h3 class="suite__cost_small">9 900₽ </h3><p class="suite__per_small">в сутки</p></div></div></div><div class="card__rating-container"> <div class="card__rating-subcontainer_first"><div class="rate-button"><div class="rate-button__ui"> </div><div class="rate-button__container"><div class="rate-button__sub-container"><div class="rate-button__star rate-button__star_on" starEnabled="true"></div><div class="rate-button__star rate-button__star_on" starEnabled="true"></div><div class="rate-button__star rate-button__star_on" starEnabled="true"></div><div class="rate-button__star rate-button__star_on" starEnabled="true"></div><div class="rate-button__star rate-button__star_off" starEnabled="false"></div></div></div></div></div><div class="card__rating-subcontainer_second"> <div class="rating"><h3 class="rating__review-amount">65 <span class="rating__reviews">Отзывов</span></h3></div></div></div></div></div></div></div></div></div></div><script>(function(){
    const buttons = document.getElementsByClassName("date-dropdown__expand");
    const dropdown = document.getElementsByClassName("factual-dd__container");
    class DropdownToggler{
        constructor(numberButtons, numberDd){
            this.button = buttons.item(numberButtons);
            this.dropdown = dropdown.item(numberDd).parentElement;
            this.button.addEventListener("click", this.clickHandler.bind(this));
        }

        clickHandler(){
            console.log("yeeee");
            this.dropdown.classList.toggle("factual-dd");
            this.dropdown.classList.toggle("factual-dd_closed");
        }
    }
    class Calendar{   
        constructor(ui = false, node, daysActive){
            this.node = node;
            this.isUi = ui;
            this.weekdays = ["Пн","Вт","Ср","Чт","Пт","Сб","Вс"];
            if (ui == true){
                this.date = new Date(2019, 8, 0);
            }
            else{
                this.date = new Date(2019, 1, 0);
            }
            this.numberdayweek = [6,0,1,2,3,4,5];
            this.titleMonths = ["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];
            this.months = document.getElementsByClassName("factual-dd__months").item(node).childNodes;
            this.firstChosen = null;
            this.secondChosen = null;
            this.listenerAssigned = false;
            for (let i = 0; i < 12; i++){
                this.months.item(i).setAttribute(`month-number`, i);
                this.months.item(i).addEventListener("click", this.chooseMonth.bind(this));
                this.months.item(i).addEventListener("click", this.showDays.bind(this));
            };
            this.years = document.getElementsByClassName("factual-dd__years").item(node).childNodes;
            this.defaultYear = 2009;
            for (let i = 0; i < 12; i++){
                this.years.item(i).setAttribute(`year-number`, this.defaultYear);
                this.years.item(i).addEventListener("click", this.showChosenYear.bind(this));
                this.years.item(i).addEventListener("click", this.chooseMonth.bind(this));
                this.years.item(i).addEventListener("click", this.showMonths.bind(this));
                this.defaultYear++;
            };
            this.defaultYear = 2009;
            this.weekdaysNode = document.getElementsByClassName("factual-dd__weekdays_active").item(node);
            console.log(document.getElementsByClassName("factual-dd__weekdays_active"));
            console.log(daysActive);
            this.daysNode = document.getElementsByClassName("factual-dd__days_active").item(daysActive);
            console.log(document.getElementsByClassName("factual-dd__days_active"));
            this.dayValueNode = document.getElementsByClassName("factual-dd__day-value_active").item(node);
            this.monthsNode = document.getElementsByClassName("factual-dd__months").item(node);
            this.monthValueNode = document.getElementsByClassName("factual-dd__month-value").item(node);
            this.yearValueNode = document.getElementsByClassName("factual-dd__year-value").item(node);
            this.yearNode = document.getElementsByClassName("factual-dd__years").item(node);
            this.acceptButton = document.getElementsByClassName("factual-dd__accept").item(node);
            this.clearButton = document.getElementsByClassName("factual-dd__clear").item(node);
            this.nextMonth = document.getElementsByClassName("factual-dd__arrow-right").item(node);
            this.nextMonth.setAttribute("type", "month-changer");
            this.previousMonth = document.getElementsByClassName("factual-dd__arrow-left").item(node);
            this.previousMonth.setAttribute("type", "month-changer");
            this.nextMonth.addEventListener("click", this.showNextMonth.bind(this));
            this.previousMonth.addEventListener("click", this.showPreviousMonth.bind(this));
            this.dayValueNode.addEventListener("click", this.showMonths.bind(this));
            this.monthValueNode.addEventListener("click", this.showYears.bind(this));
            this.yearValueNode.addEventListener("click", this.showDays.bind(this));
            console.log(`calendar ${this.node} created`);
        }

        initDays(){
            let cells = document.getElementsByClassName("factual-dd__months").item(this.node).nextElementSibling.childNodes;
            console.log(this.node);
            console.log(cells);
            console.log(cells[0]);
            for (let i = 0; i < 7; i++){  //initialising weekdays
                let newDiv = document.createElement("div");
                newDiv.className = "factual-dd__days_active";
                let newContent = document.createTextNode(this.weekdays[i]);
                console.log(newContent);
                newDiv.appendChild(newContent);
                this.weekdaysNode.appendChild(newDiv);
            }
            if (this.isUi == true){
                cells[10].classList.add("factual-dd__cell_current");
                cells[21].classList.add("factual-dd__chosen_first");
                cells[22].classList.add("factual-dd__cell_highlighted");
                cells[23].classList.add("factual-dd__cell_highlighted");
                cells[24].classList.add("factual-dd__cell_highlighted");
                cells[25].classList.add("factual-dd__chosen_last");
            }
            console.log(`calendar ${this.node} initDays done`);

        }

        countSkippedDays(exists = false, firstDayOfTheMonth, manual = false){//finding the first day of the month corresponding it to the day of the week
            let dayPointer = 0;
            let skippedDays = 0;
            let maxDate = this.date.getDate();
            this.date.setDate(1);
            let currDay = this.date.getDay();
            this.date.setDate(maxDate);
            if (!exists){
                var firstDayOfTheMonth = currDay;
            }
            for (let i = 0; i < 12; i++){
                this.months.item(i).className = "factual-dd__month";
                if(this.date.getMonth() == Number(this.months.item(i).getAttribute("month-number"))){
                    this.months.item(i).classList.add("factual-dd__month_selected");
                }
                if (this.date.getFullYear() == Number(this.years.item(i).getAttribute("year-number"))){
                    this.years.item(i).classList.add("factual-dd__year_selected");
                }
            }

                currDay = this.numberdayweek[firstDayOfTheMonth];

            let extended = false;
            const factualDD = document.getElementsByClassName("factual-dd__container").item(this.node);
            while (currDay !== dayPointer){
                dayPointer++;
                skippedDays++;
            }
            let requiredDays = this.date.getDate() + skippedDays;
            if (requiredDays > 35){
                factualDD.parentElement.className = "factual-dd_extended";
                this.initEmptyCells(42, skippedDays, exists, manual);
                extended = true;
            }
            else{
                if (exists){
                    factualDD.parentElement.className = "factual-dd";
                    extended = false;
                    this.initEmptyCells(35, skippedDays, exists, manual);
                }
                this.initEmptyCells(35, skippedDays, exists, manual);
            }
        }

        initEmptyCells(amount, skippedDays, exists = false, manual = false){
            if (exists || manual){
                while(document.getElementsByClassName("factual-dd__cell").length > 0){  
                    document.getElementsByClassName("factual-dd__cell")[0].remove();
                }               
            }
            
            for (let i = 1; i <= amount; i++){ //initialising empty dates
                let newDiv = document.createElement("div");
                newDiv.className = "factual-dd__cell";
                let newContent = document.createTextNode("");
                newDiv.appendChild(newContent);
                this.daysNode.appendChild(newDiv);
                newDiv.setAttribute("day-number", i);
                newDiv.addEventListener("click", this.markChosenDay.bind(this));
            }
            console.log(`empty cells calendar ${this.node} initialised`)
            this.fillCurrentMonth(skippedDays);
        }

        fillCurrentMonth(skippedDays){
            let dayPointer = skippedDays;
            let nextDate = 0;
            let wholeMonthArr = Array.prototype.slice.call(this.daysNode.childNodes);
            for (let i = 1; i <= this.date.getDate(); i++){
                wholeMonthArr[dayPointer].innerHTML = i;
                dayPointer++;
                nextDate = i + skippedDays;
            }
            this.fillLeftMonth(nextDate, wholeMonthArr, skippedDays);
        }

        fillLeftMonth(nextDate, wholeMonthArr, skippedDays){
            let dayIterator = 1;
            while(nextDate < wholeMonthArr.length){//filling the left out space with the next month
                wholeMonthArr[nextDate].innerHTML = dayIterator;
                dayIterator++;
                nextDate++;
            }
            this.fillLastMonth(wholeMonthArr, skippedDays)
        }
        
        fillLastMonth(wholeMonthArr, skippedDays){
            let lastDate = new Date(this.date.getFullYear(), this.date.getMonth(), 0).getDate();
            skippedDays--;
            while(skippedDays >= 0){
                wholeMonthArr[skippedDays].innerHTML = lastDate;
                skippedDays--;
                lastDate--;
                
            }
            this.changeDateTitle();
        }

        changeDateTitle(){
            this.dayValueNode.innerHTML = this.titleMonths[this.date.getMonth()] + " " + this.date.getFullYear();
            this.monthValueNode.innerHTML = this.date.getFullYear();
            this.yearValueNode.innerHTML = this.years.item(0).getAttribute("year-number") + " - " + this.years.item(11).getAttribute("year-number");
        }

        chooseMonth(e){
            this.date.setDate(1);
            this.date.setMonth(e.target.getAttribute("month-number"));
            this.date.setDate(1);
            let firstDayOfTheMonth = this.date.getDay();
            this.date.setMonth(this.date.getMonth() + 1);
            this.date.setDate(0);
            this.countSkippedDays(true, firstDayOfTheMonth, true);
        }

        initYearRange(direction){
            let yearMin = Number(this.years.item(0).getAttribute("year-number"));
            yearMin = yearMin - 12;
            let yearMax = Number(this.years.item(11).getAttribute("year-number"));
            let negativeIterator = yearMin - 12;
            while(document.getElementsByClassName("factual-dd__year").length > 0){  
                document.getElementsByClassName("factual-dd__year")[0].remove();
            }               
            for (let i = 0; i < 12; i++){
                let newDiv = document.createElement("div");
                newDiv.className = "factual-dd__year";
                let newContent = document.createTextNode("");
                newDiv.appendChild(newContent);
                this.yearNode.appendChild(newDiv);
                this.years.item(i).addEventListener("click", this.showChosenYear.bind(this));
                this.years.item(i).addEventListener("click", this.chooseMonth.bind(this));
                this.years.item(i).addEventListener("click", this.showMonths.bind(this));
                if (direction == false){
                    let result = yearMin + i;
                    this.years.item(i).innerHTML = result;
                    this.years.item(i).setAttribute(`year-number`, result);
                    this.defaultYear--;
                }
                else{
                    this.years.item(i).innerHTML = yearMax;
                    this.years.item(i).setAttribute(`year-number`, yearMax);
                    this.defaultYear++;
                    yearMax++;
                }
                
            }
            
        }
        

        showNextMonth(){
            if (this.nextMonth.getAttribute("type") == "month-changer"){
                this.date.setDate(1);
                this.date.setMonth(this.date.getMonth() + 1);
                let firstDayOfTheMonth = this.date.getDay();
                this.date.setMonth(this.date.getMonth() + 1);
                this.date.setDate(0);
                let exists = true;
                this.countSkippedDays(exists, firstDayOfTheMonth);
                if (this.years.item(11) == this.date.getFullYear()){
                    this.initYearRange(true);
                }
            }
            if (this.nextMonth.getAttribute("type") == "year-changer"){
                this.date.setFullYear(this.date.getFullYear() + 1);
                this.monthValueNode.innerHTML = this.date.getFullYear();
            }
            if (this.nextMonth.getAttribute("type") == "year-period-changer"){
                this.initYearRange(true);
                this.changeDateTitle();
            }
        }
            
        

        showPreviousMonth(){
            if (this.previousMonth.getAttribute("type") == "month-changer"){
                let oldYear = this.date.getFullYear();
                this.date.setDate(1);
                this.date.setMonth(this.date.getMonth() - 1);
                let firstDayOfTheMonth = this.date.getDay();
                this.date.setMonth(this.date.getMonth() + 1);
                this.date.setDate(0);
                let exists = true;
                this.countSkippedDays(exists, firstDayOfTheMonth);
                if (oldYear != this.date.getFullYear()){
                    this.initYearRange(true);
                }
            }
            if (this.previousMonth.getAttribute("type") == "year-changer"){
                this.date.setFullYear(this.date.getFullYear() - 1);
                this.monthValueNode.innerHTML = this.date.getFullYear();
            }
            if (this.previousMonth.getAttribute("type") == "year-period-changer"){
                this.initYearRange(false);
                this.changeDateTitle();
            }
        }

        markChosenDay(e){
            let cells = document.getElementsByClassName("factual-dd__months").item(this.node).nextElementSibling.childNodes;
            let firstChanged = false;
            if (this.firstChosen != undefined && this.secondChosen != undefined){
                for (let i = 0; i < cells.length; i++){
                    cells.item(i).classList.remove("factual-dd__chosen");
                }
                this.firstChosen = undefined;
                this.secondChosen = undefined;
                this.removeHighlightedCells();
            }
            if (this.firstChosen == undefined || this.secondChosen != undefined){
                this.removeChosen();
                this.firstChosen = e.target;
                e.target.classList.add("factual-dd__chosen");
                firstChanged = true;
            }
            if (this.firstChosen != undefined && firstChanged == false){
                this.secondChosen = e.target;
                e.target.classList.add("factual-dd__chosen");
            }
            let str = "test"
            if (this.listenerAssigned == false){
                for (let i = 0; i < cells.length; i++){
                    cells.item(i).addEventListener("mouseover", highlightCells.bind(this));
                    this.listenerAssigned = true; 
                }
            }
            function highlightCells(f){
                let cells = document.getElementsByClassName("factual-dd__months").item(this.node).nextElementSibling.childNodes;
                if (this.secondChosen != null){
                    f.target.removeEventListener("mouseover", highlightCells);
                    this.listenerAssigned = false;
                }
                else {
                    this.removeHighlightedCells();
                    if(Number(e.target.getAttribute("day-number")) > Number(f.target.getAttribute("day-number"))){
                        this.removeChosen();
                        e.target.classList.add("factual-dd__chosen_first-reverse");
                        e.target.classList.add("factual-dd__chosen");
                        f.target.classList.add("factual-dd__chosen_last-reverse");
                        for (let i = Number(f.target.getAttribute("day-number")); i < Number(e.target.getAttribute("day-number")) - 1; i++){
                            cells.item(i).classList.add("factual-dd__cell_highlighted");
                        }  
                    }
                    else {
                        this.removeChosen();
                        e.target.classList.add("factual-dd__chosen_first");
                        e.target.classList.add("factual-dd__chosen");
                        f.target.classList.add("factual-dd__chosen_last");
                        for (let i = Number(e.target.getAttribute("day-number")); i < Number(f.target.getAttribute("day-number")) - 1; i++){
                            cells.item(i).classList.add("factual-dd__cell_highlighted");
                        }  
                    }
                }  
            }
        }

        removeHighlightedCells(){
            let cells = document.getElementsByClassName("factual-dd__cell");
            for (let i = 0; i < document.getElementsByClassName("factual-dd__cell").length; i++){
                cells.item(i).classList.remove("factual-dd__cell_highlighted");
            }
        }

        removeChosen(){
            let cells = document.getElementsByClassName("factual-dd__cell");
            for (let i = 0; i < cells.length; i++){
                cells.item(i).classList.remove("factual-dd__chosen");
                cells.item(i).classList.remove("factual-dd__chosen_first");
                cells.item(i).classList.remove("factual-dd__chosen_last");
                cells.item(i).classList.remove("factual-dd__chosen_first-reverse");
                cells.item(i).classList.remove("factual-dd__chosen_last-reverse");
                cells.item(i).classList.remove("factual-dd__cell_current");
            }
        }

        showChosenYear(e){
            this.date.setFullYear(Number(e.target.getAttribute("year-number")));

        }

        showMonths(){
            this.daysNode.classList.replace("factual-dd__days_active","factual-dd__days");
            this.weekdaysNode.classList.replace("factual-dd__weekdays_active","factual-dd__weekdays");
            this.dayValueNode.classList.replace("factual-dd__day-value_active","factual-dd__day-value");
            this.monthValueNode.classList.replace("factual-dd__month-value","factual-dd__month-value_active");
            this.monthsNode.classList.replace("factual-dd__months","factual-dd__months_active");
            this.yearNode.classList.replace("factual-dd__years_active","factual-dd__years");
            this.yearValueNode.classList.replace("factual-dd__year-value_active","factual-dd__year-value");
            this.acceptButton.classList.replace("factual-dd__accept","factual-dd__accept_hidden");
            this.clearButton.classList.replace("factual-dd__clear","factual-dd__clear_hidden");
            this.nextMonth.setAttribute("type", "year-changer");
            this.previousMonth.setAttribute("type", "year-changer");
        }

        showYears(){
            this.monthValueNode.classList.replace("factual-dd__month-value_active","factual-dd__month-value");
            this.yearValueNode.classList.replace("factual-dd__year-value","factual-dd__year-value_active");
            this.yearValueNode.classList.replace("factual-dd__year-value","factual-dd__year-value_active");
            this.monthsNode.classList.replace("factual-dd__months_active","factual-dd__months");
            this.yearNode.classList.replace("factual-dd__years", "factual-dd__years_active");
            this.nextMonth.setAttribute("type", "year-period-changer");
            this.previousMonth.setAttribute("type", "year-period-changer");
        }

        showDays(){
            this.yearValueNode.classList.replace("factual-dd__year-value_active","factual-dd__year-value");
            this.monthValueNode.classList.replace("factual-dd__month-value_active","factual-dd__month-value");
            this.monthsNode.classList.replace("factual-dd__months_active","factual-dd__months");
            this.dayValueNode.classList.replace("factual-dd__day-value","factual-dd__day-value_active");
            this.daysNode.classList.replace("factual-dd__days","factual-dd__days_active");
            this.weekdaysNode.classList.replace("factual-dd__weekdays","factual-dd__weekdays_active");
            this.yearNode.classList.replace("factual-dd__years_active","factual-dd__years");
            this.acceptButton.classList.replace("factual-dd__accept_hidden","factual-dd__accept");
            this.clearButton.classList.replace("factual-dd__clear_hidden","factual-dd__clear");
            this.nextMonth.setAttribute("type", "month-changer");
            this.previousMonth.setAttribute("type", "month-changer");
        }
    }
    let buttonArr = [];
    let dropdownArr = [];
    let y = 0;
    let daysActive = 0;
    let firstSkip = false;
    for (let i = 0; i < buttons.length; i++){
        if(i % 2 == 0 && firstSkip){
            y++;
        }
        buttonArr[i] = new DropdownToggler(i, y);
        firstSkip = true;
    }
    y = 0;
    for (let i = 0; i < dropdown.length; i++){
        dropdownArr[i] = new Calendar(true, i, daysActive);
        dropdownArr[i].countSkippedDays();
        dropdownArr[i].initDays();
        daysActive = daysActive + 8;
    }
    /*let button1 = new DropdownToggler(0, 0);
    let button2 = new DropdownToggler(1, 0);
    let button3 = new DropdownToggler(2, 1);
    let button4 = new DropdownToggler(3, 1);
    let calendar = new Calendar(true, 0);
    let calendar1 = new Calendar(true, 1);*/
    /*calendar.countSkippedDays();
    calendar.initDays();
    calendar1.countSkippedDays();
    calendar1.initDays();*/
})();(function(){
    const entityAmount = document.getElementsByClassName("dropdown");
    const entitySelect = document.getElementsByClassName("dropdown__input");
    const entityArr = [];
    entityArr.length = entityAmount.length;
    class Dropdown{
        constructor(index){
            this.expand = entityAmount.item(index).lastElementChild.firstElementChild.lastElementChild;
            this.select = entityAmount.item(index).lastElementChild.lastElementChild;
            this.selectNodes = entityAmount.item(index).lastChild.lastChild.childNodes;
            this.options = entitySelect.item(index).nextElementSibling;
            this.text = entitySelect.item(index).firstElementChild;
            this.textSubArr1 = null;
            this.textSubArr2 = null;
            this.textSubArr3 = null;
            this.accomodation = null;
            this.ddtest = entitySelect.item(index).nextElementSibling.firstElementChild.firstElementChild;
            if (this.ddtest.innerHTML == "Взрослые"){
                this.accomodation = false;
            }
            else{
                this.accomodation = true;
                this.textSubArr1 = ["Спальня","Спальни","Спален"];
                this.textSubArr2 = ["Кровать","Кровати","Кроватей"];
                this.textSubArr3 = "";
                this.textArr = [this.textSubArr1, this.textSubArr2, this.textSubArr3];
            }

            this.template = function(arr, textArray, acc){
                return {
                    plus: entitySelect.item(index).nextElementSibling.childNodes[arr].lastElementChild.lastElementChild,
                    minus: entitySelect.item(index).nextElementSibling.childNodes[arr].lastElementChild.firstElementChild,
                    counter: entitySelect.item(index).nextElementSibling.childNodes[arr].lastElementChild.childNodes[1].firstElementChild,
                    textArr: textArray,
                    accomodation: acc,
                    accomodationValue: "",
                    get counterValue(){
                        return this.counter.innerHTML
                    },
                    set counterValue(value){
                        this.counter.innerHTML = value;
                    },
                    get subArray(){
                        return this.textArr;
                    },
                    get accValue(){
                        return this.accomodationValue;
                    },

                    assignListeners(){
                        this.plus.addEventListener("click", this.plusHandler.bind(this));
                        this.minus.addEventListener("click", this.minusHandler.bind(this));
                    },

                    plusHandler(e){
                        this.counterValue = parseInt(this.counterValue) + 1;
                        if (this.accomodation == true){
                            switch(parseInt(this.counterValue)){
                                case 0:
                                    this.accomodationValue = ""
                                break;
                                case 1:
                                    this.accomodationValue = this.subArray[arr][0]
                                break;
                                case 2: case 3: case 4:
                                    this.accomodationValue = this.subArray[arr][1]
                                break;
                                default:
                                    this.accomodationValue = this.subArray[arr][2]
                            }
                        }
                    },

                    minusHandler(e){
                        if (this.counterValue > 0){
                            this.counterValue = parseInt(this.counterValue) - 1;
                            if (this.accomodation == true){
                                switch(parseInt(this.counterValue)){
                                    case 0:
                                        this.accomodationValue = ""
                                    break;
                                    case 1:
                                        this.accomodationValue = this.subArray[arr][0]
                                    break;
                                    case 2: case 3: case 4:
                                        this.accomodationValue = this.subArray[arr][1]
                                    break;
                                    default:
                                        this.accomodationValue = this.subArray[arr][2]
                                }
                            }
                        }
                    },
                }
            }
            this.first = this.template(0, this.textArr, this.accomodation);
            this.first.assignListeners();
            this.second = this.template(1, this.textArr, this.accomodation);
            this.second.assignListeners();
            this.third = this.template(2, this.textArr, this.accomodation);
            this.third.assignListeners();
            this.minusArr = entityAmount.item(index).lastChild.lastChild;
            this.counterArr = entityAmount.item(index).lastChild.lastChild;
            this.expand.addEventListener("click", this.expandHandler.bind(this))
        }

        expandHandler(e){
            switch(this.select.className){
                case 'dropdown__select':
                    this.select.className = "dropdown__select_expanded"
                break;
                case 'dropdown__select_expanded':
                    this.select.className = "dropdown__select";
                break;
                case 'dropdown__select_big':
                    this.select.className = "dropdown__select_big-expanded"
                break;
                case 'dropdown__select_big-expanded':
                    this.select.className = "dropdown__select_big"
                break;
            }
        }

        assignListeners(e){
            this.options.addEventListener("click",this.updateText.bind(this))
        }

        updateText(){
            if (this.accomodation == false){
                let value = parseInt(this.first.counterValue) + parseInt(this.second.counterValue) + parseInt(this.third.counterValue);
                switch(value){
                    case 0:
                        this.text.innerHTML = "Сколько гостей"
                    break;
                    case 1:
                        this.text.innerHTML = value + " гость"
                    break;
                    case 2: case 3 :case 4:
                        this.text.innerHTML = value + " гостя"
                    break;
                    default:
                        this.text.innerHTML = value + " гостей"
                    break;
                }
            }
            else{
                let firstValue = this.first.counterValue + " " + this.first.accomodationValue;
                let secondValue = this.second.counterValue + " " + this.second.accomodationValue;
                if(this.first.counterValue == 0){
                    firstValue = "";
                }
                if(this.second.counterValue == 0){
                    secondValue = "";
                }
                let value = firstValue + " " + secondValue;
                this.text.innerHTML = value;
            }
        }
    }

    function initEntities(){
        for(let i = 0; i < entityAmount.length; i++){
            entityArr[i] = new Dropdown(i);
            entityArr[i].assignListeners();
        }
    }
    initEntities();
})();

(function(){
    class Toggle{
        constructor(node){
            this.toggle = document.getElementsByClassName("real-toggle__icon").item(node);
            this.state = this.toggle.getAttribute("enabled");
            console.log(this.toggle);
            console.log(this.state);
            this.toggle.addEventListener("click", this.toggleHandler.bind(this));
        }
        toggleHandler(){
            if (this.state == "true"){
                this.state = "false";
                this.toggle.classList.replace("real-toggle__icon_enabled","real-toggle__icon_disabled");
                this.toggle.setAttribute("enabled", "false");
            }
            else{
                this.state = "true";
                this.toggle.classList.replace("real-toggle__icon_disabled","real-toggle__icon_enabled");
                this.toggle.setAttribute("enabled", "true");
            }
        }
    }
    let toggleQuantity = document.getElementsByClassName("toggle");
    let toggleArr = [];
    for (let i = 0; i < toggleQuantity.length; i++){
        toggleArr[i] = new Toggle(i);
    }
})();</script></body></html>